const Button=videojs.getComponent("Button"),Component=videojs.getComponent("Component"),ModalDialog=videojs.getComponent("ModalDialog");class ResumeButton extends Button{constructor(e,t){super(e,t),this.resumeFromTime=t.resumeFromTime,this.player=e}buildCSSClass(){return"vjs-resume btn btn-primary"}createEl(){return super.createEl("button",{innerHTML:`${this.options_.buttonText}`})}handleClick(){this.player_.currentTime(this.resumeFromTime),this.player_.play(),this.player_.trigger("resumevideo"),this.player_.resumeModal.close()}handleKeyPress(e){32!==e.which&&13!==e.which||(this.player.paused()?this.player.play():this.player.pause(),e.preventDefault())}}ResumeButton.prototype.controlText_="Resume";class ResumeCancelButton extends Button{buildCSSClass(){return"vjs-no-resume btn btn-danger"}createEl(){return super.createEl("button",{innerHTML:`${this.options_.buttonText}`})}handleClick(){this.player_.resumeModal.close(),store.remove(this.options_.key)}}ResumeButton.prototype.controlText_="No Thanks";class ModalButtons extends Component{constructor(e,t){super(e,t),this.addChild("ResumeButton",{buttonText:t.resumeButtonText,resumeFromTime:t.resumeFromTime}),this.addChild("ResumeCancelButton",{buttonText:t.cancelButtonText,key:t.key})}createEl(){return super.createEl("div",{className:"vjs-resume-modal-buttons",innerHTML:`\n        <p>${this.options_.title}</p>\n      `})}}class ResumeModal extends ModalDialog{constructor(e,t){super(e,t),this.player_.resumeModal=this,this.open(),this.addChild("ModalButtons",{title:t.title,resumeButtonText:t.resumeButtonText,cancelButtonText:t.cancelButtonText,resumeFromTime:t.resumeFromTime,key:t.key})}buildCSSClass(){return`vjs-resume-modal ${super.buildCSSClass()}`}}videojs.registerComponent("ResumeButton",ResumeButton),videojs.registerComponent("ResumeCancelButton",ResumeCancelButton),videojs.registerComponent("ModalButtons",ModalButtons),videojs.registerComponent("ResumeModal",ResumeModal);const Resume=function(e){let t;if(!store)return videojs.log("store.js is not available");if(!store.enabled)return t="Local storage is not supported by your browser.",t+=' Please disable "Private Mode", or upgrade to a modern browser.',videojs.log(t);let s=e.uuid,o=e.title||"Resume from where you left off?",n=e.resumeButtonText||"Resume",r=e.cancelButtonText||"No Thanks",u=e.playbackOffset||0,i="videojs-resume:"+s;this.on("timeupdate",function(){store.set(i,this.currentTime())}),this.on("ended",function(){store.remove(i)}),this.ready(function(){let e=store.get(i);e&&(e>=5&&(e-=u),e<=0&&(e=0),this.addChild("ResumeModal",{title:o,resumeButtonText:n,cancelButtonText:r,resumeFromTime:e,key:i}))})};videojs.registerPlugin("Resume",Resume);
//# sourceMappingURL=resume.min.js.map