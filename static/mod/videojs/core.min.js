function myAnimePlayer(e){var t=videojs(e||"player");return t.watermark({image:"/imgs/icons/logo-player.svg",url:"https://bakadora.com",width:"200px"}),t}function shortToLongLang(e){var t;switch(e){case"EN":t="English";break;case"CN":t="Chinese";break;case"JP":t="Japanese";break;case"VN":t="Vietnamese";break;case"KO":t="Korean"}return t}function switchLangs(e){var t=videojs.getComponent("MenuButton"),a=videojs.getComponent("MenuItem");videojs.getComponent("Player").prototype.setSource=function(e,t){var a={autoplay:!1,preload:"auto",type:"video/mp4",src:e};player.src(a),player.one("error",e=>{a.type="application/x-mpegURL",a.src=t,player.src(a),player.play()}),player.Resume({uuid:window.location.pathname})},videojs.MenuItemTest=videojs.extend(a,{constructor:function(e,t,n){this.onClickListener=n,a.call(this,e,t),this.on("click",this.onClick),this.on("touchstart",this.onClick)},onClick:function(){this.onClickListener(this);var e=this.options_.source,t=this.options_.backup;player.setSource(e,t)}});var n=videojs.extend(t,{constructor:function(){t.apply(this,arguments),this.addClass("vjs-icon-captions"),this.addClass("ma-lang-icon")},handleClick:function(){this.buttonPressed_?this.unpressButton():this.pressButton()},createItems:function(){var t=[];if(!e.length)return[];for(var a=function(e){t.map(function(e){$(e.el()).hasClass("vjs-selected")&&$(e.el()).removeClass("vjs-selected")}),$(e.el()).addClass("vjs-selected")},n=0;n<e.length;n++){var s=e[n],o=s.suffix,i=shortToLongLang(s.subtitle);i||s.subtitle;var r=new videojs.MenuItemTest(this.player_,{tabIndex:n,label:o?`${i} (${o})`:i,source:s.source,backup:s.backup,class:"vjs-menu-item"},a);0===n&&$(r.el()).addClass("vjs-selected"),r.addClass(`vjs-${s.subtitle}-menu-item`),t.push(r)}return t}});videojs.registerComponent("LangSwitch",n),player.getChild("controlBar").addChild("LangSwitch",{},10)}function loadAds(e){var t={adTagUrl:BB.getVASTUrl(2008513)};e.ima(t);var a=document.getElementById("content_video_html5_api");(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&a.hasAttribute("controls")&&a.removeAttribute("controls");var n=function(){e.ima.initializeAdDisplayContainer(),o.removeEventListener(s,n)},s="click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(s="touchend");var o=document.getElementById("player");o.addEventListener(s,n)}$(document).ready(function(){if(store){var e=store.get("autoplay");"boolean"!=typeof e&&(e=!0);var t='input#ma-autoPlay[type="checkbox"]';e&&$(t).attr("checked","checked"),$("#ma-autoPlay").change(function(){(e=!e)?$(t).attr("checked","checked"):$(t).attr("checked",""),store.set("autoplay",e)})}});